{"version":3,"file":"static/js/FullRoll.b442e10c.chunk.js","mappings":"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","sources":["webpack://rise-of-rice/./src/pages/FullRoll/FullRoll.module.scss?7326","pages/FullRoll/FullRoll.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"FullRoll_container__qXs6L\",\"containerRoll\":\"FullRoll_containerRoll__TWJ9s\",\"imageBlock\":\"FullRoll_imageBlock__u8WgN\",\"content\":\"FullRoll_content__DC+mn\",\"description\":\"FullRoll_description__c+Dy6\",\"title\":\"FullRoll_title__Emrrc\",\"weight\":\"FullRoll_weight__gbuj1\",\"structure\":\"FullRoll_structure__5l5Qj\",\"purchase\":\"FullRoll_purchase__UZ6Ft\",\"priceAndType\":\"FullRoll_priceAndType__rHYwR\",\"rollType\":\"FullRoll_rollType__jS+oj\",\"active\":\"FullRoll_active__aLj1d\",\"price\":\"FullRoll_price__zi9jc\",\"addProduct\":\"FullRoll_addProduct__-ZnW6\",\"addInCart\":\"FullRoll_addInCart__084Ko\",\"buttonMinus\":\"FullRoll_buttonMinus__8UIbl\",\"buttonPlus\":\"FullRoll_buttonPlus__lsOWh\",\"goBack\":\"FullRoll_goBack__sGrnE\"};","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\nimport { addItem, minusItem, removeItem } from '../../redux/Cart/slice';\r\nimport { RootState } from '../../redux/store';\r\nimport { CartItemType } from '../../redux/Cart/types';\r\n\r\nimport styles from './FullRoll.module.scss';\r\n\r\nlet typeNames = ['мини', 'стандарт'];\r\n\r\nconst FullRoll: React.FC = () => {\r\n  let [roll, setRoll] = React.useState<{\r\n    imageUrl: string;\r\n    title: string;\r\n    weight: number[];\r\n    structure: string;\r\n    price: number[]\r\n  }>();\r\n\r\n  let [activeType, setActiveType] = React.useState<number>(0);\r\n\r\n  let { id } = useParams();\r\n  let navigate = useNavigate();\r\n  let dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    async function fetchRoll() {\r\n      try {\r\n        let { data } = await axios.get('https://6358b289c26aac906f46af7c.mockapi.io/items/' + id);\r\n        setRoll(data.items);\r\n      } catch (error) {\r\n        alert('Ошибка при получении ролла');\r\n        navigate('/rolls');\r\n      }\r\n    }\r\n    fetchRoll();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  let cartItem = useSelector((state: RootState) =>\r\n    state.cartReducer.items.find((obj) => obj.id === id && obj.type === typeNames[activeType]),\r\n  );\r\n\r\n  let addedCount = cartItem ? cartItem.count : 0;\r\n\r\n  let onClickPlusItem = () => {\r\n    let item : CartItemType;\r\n    if (roll && id) {\r\n      item = {\r\n        id,\r\n        title: roll.title,\r\n        price: roll.price[activeType],\r\n        imageUrl: roll.imageUrl,\r\n        type: typeNames[activeType],\r\n        count: 0\r\n      };\r\n    dispatch(addItem(item));\r\n    }\r\n  };\r\n\r\n  let onClickMinusItem = () => {\r\n    let item : CartItemType;\r\n    if (roll && id) {\r\n      item = {\r\n        id,\r\n        title: roll.title,\r\n        price: roll.price[activeType],\r\n        imageUrl: roll.imageUrl,\r\n        type: typeNames[activeType],\r\n        count: 0\r\n      };\r\n    if (addedCount === 1) {\r\n      dispatch(removeItem(item));\r\n    } else {\r\n      dispatch(minusItem(item));\r\n    }\r\n    }\r\n  };\r\n\r\n  let goBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  if (!roll) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.containerRoll}>\r\n        <div className={styles.imageBlock}>\r\n          <img src={process.env.PUBLIC_URL + roll.imageUrl} alt=\"FullRoll\" />\r\n        </div>\r\n        <div className={styles.content}>\r\n          <div className={styles.description}>\r\n            <h2 className={styles.title}>{roll.title}</h2>\r\n            <div className={styles.weight}>Вес:\r\n              <p>{roll.weight[activeType]} г</p>\r\n            </div>\r\n            <div className={styles.structure}>Состав:\r\n              <p>{roll.structure}.</p>\r\n            </div>\r\n          </div>\r\n          <div className={styles.purchase}>\r\n            <div className={styles.priceAndType}>\r\n              <div className={styles.rollType}>\r\n                <ul>\r\n                  {typeNames.map((type, index) => (\r\n                    <li\r\n                      onClick={() => setActiveType(index)}\r\n                      className={activeType === index ? `${styles.active}` : ''}\r\n                      key={index}>\r\n                      {typeNames[index]}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              <div className={styles.price}>{roll.price[activeType]} ₽</div>\r\n            </div>\r\n            <div className={styles.addProduct}>\r\n              { addedCount === 0 ?\r\n                <button className={styles.addInCart} onClick={onClickPlusItem}>\r\n                  <svg\r\n                    width=\"18\"\r\n                    height=\"18\"\r\n                    viewBox=\"0 0 18 18\"\r\n                    fill=\"none\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      d=\"M6.33333 16.3333C7.06971 16.3333 7.66667 15.7364 7.66667 15C7.66667 14.2636 7.06971 13.6667 6.33333 13.6667C5.59695 13.6667 5 14.2636 5 15C5 15.7364 5.59695 16.3333 6.33333 16.3333Z\"\r\n                      stroke=\"white\"\r\n                      strokeWidth=\"1.8\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                    />\r\n                    <path\r\n                      d=\"M14.3333 16.3333C15.0697 16.3333 15.6667 15.7364 15.6667 15C15.6667 14.2636 15.0697 13.6667 14.3333 13.6667C13.597 13.6667 13 14.2636 13 15C13 15.7364 13.597 16.3333 14.3333 16.3333Z\"\r\n                      stroke=\"white\"\r\n                      strokeWidth=\"1.8\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                    />\r\n                    <path\r\n                      d=\"M4.78002 4.99999H16.3334L15.2134 10.5933C15.1524 10.9003 14.9854 11.176 14.7417 11.3722C14.4979 11.5684 14.1929 11.6727 13.88 11.6667H6.83335C6.50781 11.6694 6.1925 11.553 5.94689 11.3393C5.70128 11.1256 5.54233 10.8295 5.50002 10.5067L4.48669 2.82666C4.44466 2.50615 4.28764 2.21182 4.04482 1.99844C3.80201 1.78505 3.48994 1.66715 3.16669 1.66666H1.66669\"\r\n                      stroke=\"white\"\r\n                      strokeWidth=\"1.8\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                    />\r\n                  </svg>\r\n                  В корзину\r\n                </button>\r\n                :\r\n              <React.Fragment>\r\n                <button\r\n                  onClick={onClickMinusItem}\r\n                  className={styles.buttonMinus}>\r\n                  <svg\r\n                    width=\"10\"\r\n                    height=\"10\"\r\n                    viewBox=\"0 0 10 10\"\r\n                    fill=\"none\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      d=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n                      fill=\"#EB5A1E\"\r\n                    />\r\n                    <path\r\n                      d=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n                      fill=\"#EB5A1E\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              <b>{addedCount}</b>          \r\n              <button\r\n                onClick={onClickPlusItem}\r\n                className={styles.buttonPlus}>\r\n                <svg\r\n                  width=\"10\"\r\n                  height=\"10\"\r\n                  viewBox=\"0 0 10 10\"\r\n                  fill=\"none\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    d=\"M5.92001 3.84V5.76V8.64C5.92001 9.17016 5.49017 9.6 4.96001 9.6C4.42985 9.6 4.00001 9.17016 4.00001 8.64L4 5.76L4.00001 3.84V0.96C4.00001 0.42984 4.42985 0 4.96001 0C5.49017 0 5.92001 0.42984 5.92001 0.96V3.84Z\"\r\n                    fill=\"#EB5A1E\"\r\n                  />\r\n                  <path\r\n                    d=\"M5.75998 5.92001L3.83998 5.92001L0.959977 5.92001C0.429817 5.92001 -2.29533e-05 5.49017 -2.29301e-05 4.96001C-2.2907e-05 4.42985 0.429817 4.00001 0.959977 4.00001L3.83998 4L5.75998 4.00001L8.63998 4.00001C9.17014 4.00001 9.59998 4.42985 9.59998 4.96001C9.59998 5.49017 9.17014 5.92001 8.63998 5.92001L5.75998 5.92001Z\"\r\n                    fill=\"#EB5A1E\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n              </React.Fragment>\r\n              }\r\n            </div>\r\n          </div>\r\n          <button className={styles.goBack} onClick={goBack}>Вернуться назад</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FullRoll;\r\n"],"names":["typeNames","React","roll","setRoll","activeType","setActiveType","id","useParams","navigate","useNavigate","dispatch","useDispatch","axios","data","items","alert","fetchRoll","cartItem","useSelector","state","cartReducer","find","obj","type","addedCount","count","onClickPlusItem","item","title","price","imageUrl","addItem","className","styles","src","process","alt","weight","structure","map","index","onClick","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","removeItem","minusItem","Loader"],"sourceRoot":""}